(this["webpackJsonpmemory-game-react"]=this["webpackJsonpmemory-game-react"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(42)},,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){var n={"./bear.png":25,"./beaver.png":26,"./cat.png":27,"./chick.png":28,"./chicken.png":29,"./cow.png":30,"./dog.png":31,"./donkey.png":32,"./duck.png":33,"./elephant.png":34,"./lion.png":35,"./monkey.png":36,"./penguin.png":37,"./pig.png":38,"./walrus.png":39,"./zebra.png":40};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=24},function(e,t,a){e.exports=a.p+"static/media/bear.1948aa56.png"},function(e,t,a){e.exports=a.p+"static/media/beaver.53e1f155.png"},function(e,t,a){e.exports=a.p+"static/media/cat.5ef3ecae.png"},function(e,t,a){e.exports=a.p+"static/media/chick.a7c276c8.png"},function(e,t,a){e.exports=a.p+"static/media/chicken.3d53cc0c.png"},function(e,t,a){e.exports=a.p+"static/media/cow.34c75b47.png"},function(e,t,a){e.exports=a.p+"static/media/dog.92719be5.png"},function(e,t,a){e.exports=a.p+"static/media/donkey.1b3936b6.png"},function(e,t,a){e.exports=a.p+"static/media/duck.c539fc3d.png"},function(e,t,a){e.exports=a.p+"static/media/elephant.11075bbf.png"},function(e,t,a){e.exports=a.p+"static/media/lion.0f6b2638.png"},function(e,t,a){e.exports=a.p+"static/media/monkey.e92ffeb9.png"},function(e,t,a){e.exports=a.p+"static/media/penguin.73cfdfe5.png"},function(e,t,a){e.exports=a.p+"static/media/pig.566e5ee9.png"},function(e,t,a){e.exports=a.p+"static/media/walrus.6033f744.png"},function(e,t,a){e.exports=a.p+"static/media/zebra.495c1851.png"},,function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),i=a.n(r),c=(a(20),a(3)),o=a(5),l=a(7),m=a(6),d=a(4),p=a(12),u=(a(23),function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).cardClick=a.props.cardClick,a}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.card.isFlipped?"card flip-container":"card flip-container backside",onClick:function(){e.cardClick(e.props.card.index)}},s.a.createElement("div",{className:"flipper"},s.a.createElement("div",{className:"front"},s.a.createElement("img",{className:"card-image",src:a(24)("./"+(this.props.card.imgUrl?this.props.imgUrl:"bear.png"))})),s.a.createElement("div",{className:"back"})))}}]),n}(s.a.Component)),g=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).cardClick=n.props.cardClick,n}return Object(o.a)(a,[{key:"renderField",value:function(){var e=this;return this.props.cards.map((function(t,a){return s.a.createElement(u,{key:t.imgUrl+a,card:Object(c.a)(Object(c.a)({},t),{},{index:a}),imgUrl:t.imgUrl,cardClick:e.cardClick})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"mg-field"},this.renderField())}}]),a}(s.a.Component),h=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).restartGame=n.props.restart,n.settingsChange=n.props.settings,n}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"menu topMenu"},s.a.createElement("div",null,"Memory Game"),s.a.createElement("div",{className:"df"},s.a.createElement("div",{className:"turnCount mr10"},"Turns: ",s.a.createElement("span",{id:"count"},this.props.count)),s.a.createElement("button",{className:"restartButton btn mr10",onClick:this.restartGame},"Restart"),s.a.createElement("button",{className:"btn",onClick:this.settingsChange},"Settings")))}}]),a}(s.a.Component),b=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).restartGame=n.props.restart,n}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"blockingLayer",id:"blockingLayer"}),s.a.createElement("div",{id:"message-gameOver-win",className:"message",style:{display:"win"===this.props.message?"block":"none"}},s.a.createElement("div",{className:"message-shade"}),s.a.createElement("div",{className:"message-content endGame"},s.a.createElement("h1",{className:"mb10"},"Game over!"),s.a.createElement("div",{className:"mb10"},"You won!"),s.a.createElement("button",{className:"btn",onClick:this.restartGame},"Want to restart?"))),s.a.createElement("div",{id:"message-gameOver-loss",className:"message",style:{display:"loss"===this.props.message?"block":"none"}},s.a.createElement("div",{className:"message-shade"}),s.a.createElement("div",{className:"message-content endGame"},s.a.createElement("h1",{className:"mb10"},"Game over!"),s.a.createElement("div",{className:"mb10"},"You lose!"),s.a.createElement("button",{className:"btn",onClick:this.restartGame},"Want to restart?"))),s.a.createElement("div",{id:"message-gameOver",className:"message",style:{display:"over"===this.props.message?"block":"none"}},s.a.createElement("div",{className:"message-shade"}),s.a.createElement("div",{className:"message-content endGame"},s.a.createElement("h1",{className:"mb10"},"Game over!"),s.a.createElement("div",{className:"mb10",id:"score"}),s.a.createElement("div",{className:"mb10",id:"status"}),s.a.createElement("button",{className:"btn",onClick:this.restartGame},"Want to restart?"))),s.a.createElement("div",{id:"message-getReady",className:"message",style:{display:"ready"===this.props.message?"block":"none"}},s.a.createElement("div",{className:"message-shade"}),s.a.createElement("div",{className:"message-content endGame"},s.a.createElement("h1",null,"Get ready!"))))}}]),a}(s.a.Component),f=a(8),v=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).modeRef=s.a.createRef(),n.cardsRef=s.a.createRef(),n.onSubmit=n.props.submit,n}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this;return s.a.createElement("div",{className:"message",style:{display:"start"===this.props.message?"block":"none"}},s.a.createElement("div",{className:"message-shade"}),s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.onSubmit(t.modeRef.current.value,t.cardsRef.current.value)},className:"message-content start-dialog-content"},s.a.createElement("h1",{className:"mb10"},"Select game mode"),s.a.createElement("select",{className:"mb20",ref:this.modeRef},s.a.createElement("option",{value:0},"Limited turns"),s.a.createElement("option",{value:1},"Unlimited turns")),s.a.createElement("input",(e={className:"mb10",ref:this.cardsRef,defaultValue:12,type:"number"},Object(f.a)(e,"className","mb10"),Object(f.a)(e,"placeholder","Number of cards"),e)),s.a.createElement("br",null),s.a.createElement("button",{className:"btn"},"Start playing")))}}]),a}(s.a.Component),k=a(2),C=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).deck=["bear.png","beaver.png","cat.png","chick.png","chicken.png","cow.png","dog.png","donkey.png","duck.png","elephant.png","lion.png","monkey.png","penguin.png","pig.png","walrus.png","zebra.png"],n.state={y:n.props.size?n.props.size:16,gameMode:0,selectedCardIndex:null,startTurnCount:n.props.size?2*n.props.size:24,turnCount:n.props.size?2*n.props.size:24,pairNumber:0,message:"start",cards:[],gameStarted:!1,gameFinished:!1,canSneak:!0},n.pairCount=n.state.y/2,n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){this.state.gameFinished||this.state.pairNumber!==this.pairCount||this.setState(Object(c.a)(Object(c.a)({},Object(k.cloneDeep)(this.state)),{},{message:"win",gameFinished:!0})),this.state.gameFinished||0!==this.state.gameMode||0!==this.state.turnCount||this.setState(Object(c.a)(Object(c.a)({},Object(k.cloneDeep)(this.state)),{},{message:"loss",gameFinished:!0})),this.state.gameStarted||"start"===this.state.message||(document.onkeydown=this.sneakPeak.bind(this),this.startGame())}},{key:"startGame",value:function(){var e=this,t=Object(k.cloneDeep)(this.state);this.pairCount=this.state.y/2,t.gameFinished=!1,0===t.gameMode?t.turnCount=t.startTurnCount:1===t.gameMode&&(t.turnCount=0),t.selectedCardIndex=null,t.cards=new Array(this.state.y),t.pairNumber=0;for(var a=0;a<this.pairCount;a++){var n=this.deck[this.getRandomInt(0,this.deck.length-1)],s=this.getFreeCardIndexes(t.cards)[this.getRandomInt(0,this.getFreeCardIndexes(t.cards).length-1)];t.cards[s]={isFlipped:!0,isPaired:!1,imgUrl:n},s=this.getFreeCardIndexes(t.cards)[this.getRandomInt(0,this.getFreeCardIndexes(t.cards).length-1)],t.cards[s]={isFlipped:!0,isPaired:!1,imgUrl:n}}t.message="ready",t.gameStarted=!0,setTimeout((function(){for(var t=Object(k.cloneDeep)(e.state),a=0;a<t.cards.length;a++)t.cards[a].isFlipped=!1;e.setState(Object(c.a)(Object(c.a)({},Object(k.cloneDeep)(t)),{},{message:""}))}),1e3),this.setState(Object(c.a)({},Object(k.cloneDeep)(t)))}},{key:"onCardClick",value:function(e){var t=this;this.flipUp(e),setTimeout((function(){t.cardClick(e)}),500)}},{key:"sneak",value:function(e){var t=Object(k.cloneDeep)(this.state);t.cards[e].isFlipped=!0,t.canSneak=!1,this.setState(t)}},{key:"flipUp",value:function(e){var t=Object(k.cloneDeep)(this.state);t.cards[e].isFlipped=!0,0!==t.gameMode||t.selectedCardIndex===e||t.cards[e].isPaired?1!==t.gameMode||t.selectedCardIndex===e||t.cards[e].isPaired||(t.turnCount+=1):t.turnCount-=1,this.setState(t)}},{key:"cardClick",value:function(e){var t=Object(k.cloneDeep)(this.state),a=t.cards;a[e].isFlipped=!0,t.selectedCardIndex!==e&&""===t.message&&(a[e].isPaired||(null===t.selectedCardIndex?t.selectedCardIndex=e:a[t.selectedCardIndex].imgUrl===a[e].imgUrl?(a[t.selectedCardIndex].isPaired=!0,a[e].isPaired=!0,t.selectedCardIndex=null,t.pairNumber+=1):(a[t.selectedCardIndex].isFlipped=!1,a[e].isFlipped=!1,t.selectedCardIndex=null),this.setState(t)))}},{key:"getFreeCardIndexes",value:function(e){for(var t=[],a=0;a<e.length;a++)void 0===e[a]&&t.push(a);return t}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"sneakPeak",value:function(e){var t=this;if(83===e.keyCode){for(var a=Object(k.cloneDeep)(this.state),n=[],s=0;s<a.cards.length;s++)!1===a.cards[s].isFlipped&&n.push(s);if(0!==n.length){var r=n[this.getRandomInt(0,n.length-1)];this.sneak(r),setTimeout((function(){a.canSneak=!0,a.cards[r].isFlipped=!1,t.setState(Object(c.a)({},Object(k.cloneDeep)(a)))}),500)}}}},{key:"settingsChange",value:function(){var e=Object(k.cloneDeep)(this.state);e.message="start",e.gameStarted=!1,this.setState(Object(c.a)({},Object(k.cloneDeep)(e)))}},{key:"onStartMenuSubmit",value:function(e,t){var a=Object(k.cloneDeep)(this.state);a.gameMode=e?parseInt(e):0,a.y=t?parseInt(t):16,a.startTurnCount=0===parseInt(e)?2*a.y:0,a.turnCount=0===parseInt(e)?2*a.y:0,a.message="",this.setState(Object(c.a)({},Object(k.cloneDeep)(a)))}},{key:"render",value:function(){return s.a.createElement("div",{id:"app"},s.a.createElement(p.a,null,s.a.createElement("title",null,"Memory Game")),s.a.createElement("div",{className:"mg-container"},s.a.createElement(h,{count:this.state.turnCount,restart:this.startGame.bind(this),settings:this.settingsChange.bind(this)}),s.a.createElement(g,{cardClick:this.onCardClick.bind(this),cards:this.state.cards}),s.a.createElement(b,{restart:this.startGame.bind(this),message:this.state.message}),s.a.createElement(v,{message:this.state.message,submit:this.onStartMenuSubmit.bind(this)}),s.a.createElement("div",{className:"mg-copyright"},"Coded by ",s.a.createElement("a",{href:"https://github.com/NikitaAseev",target:"_blank"},"Aseev Nikita"),", Illustartions by ",s.a.createElement("a",{href:"http://www.freepik.com",target:"_blank"},"Freepik"))),s.a.createElement("script",{src:"main.js"}))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.bb53ca8f.chunk.js.map